---
title: "캐시(Cache)와 캐싱(Caching)"
description: "캐시(Cache)와 캐싱(Caching)이란?, 캐시의 장단점, 캐싱의 전략, 현업 활용 사례, Python 예제"
date: 2022-03-02 10:00:00 +0900
categories: [CS, Common]
tags: [Computer Science, Cache, Caching]
image:
---

# **캐시(Cache)와 캐싱(Caching)이란?**

**캐시(Cache)**와 **캐싱(Caching)**은 데이터 접근 속도를 높이고 시스템 성능을 최적화하기 위한 기술이다. 캐시와 캐싱은 컴퓨팅 시스템, 웹 애플리케이션, 데이터베이스 등에서 매우 중요하게 사용된다.

---

### **1. 캐시(Cache)란?**

캐시는 **자주 사용되거나 앞으로 사용할 가능성이 높은 데이터를 저장하는 고속 저장소**를 의미한다. 이 저장소는 일반적으로 메모리(RAM)와 같이 빠른 액세스가 가능한 장치에서 구현된다.

#### **캐시의 목적**
- 데이터를 **빠르게 읽기** 위해 저장.
- 자주 접근하는 데이터에 대한 **처리 지연(latency)** 감소.
- 시스템 **성능 최적화** 및 **사용자 경험 개선**.

#### **캐시의 예**
- **브라우저 캐시**: 자주 방문하는 웹 페이지의 정적 리소스(이미지, CSS, JS 등)를 저장.
- **CPU 캐시**: CPU가 자주 사용하는 명령어나 데이터를 저장하여 처리 속도를 높임.
- **데이터베이스 캐시**: 자주 조회되는 데이터를 메모리에 저장하여 데이터베이스 접근 시간을 줄임.

---

### **2. 캐싱(Caching)란?**

캐싱은 **캐시를 사용하는 작업 또는 기술**을 말한다. 데이터나 요청 결과를 캐시에 저장하고, 이후 동일한 요청이 있을 때 캐시에서 데이터를 가져오는 방식이다.

#### **캐싱의 원리**
1. **요청 발생**: 사용자가 데이터를 요청한다.
2. **캐시 조회**: 캐시에 요청한 데이터가 있는지 확인한다.
   - **캐시 히트(Cache Hit)**: 요청한 데이터가 캐시에 존재하는 경우.
   - **캐시 미스(Cache Miss)**: 요청한 데이터가 캐시에 없는 경우.
3. **데이터 반환**:
   - 캐시 히트: 캐시에서 데이터를 가져옴.
   - 캐시 미스: 원본 데이터 소스(예: 데이터베이스)에서 데이터를 가져와 캐시에 저장 후 반환.

---

### **3. 캐싱의 장단점**

#### **장점**
- **속도 향상**: 데이터 접근 속도가 빨라짐.
- **비용 절감**: 외부 리소스(DB, 네트워크) 사용량 감소.
- **시스템 부하 감소**: 동일한 데이터 요청에 대한 처리 비용 감소.

#### **단점**
- **일관성 문제**: 원본 데이터가 변경되었을 때 캐시 데이터가 오래된 상태(Stale)가 될 수 있음.
- **메모리 사용**: 캐시가 메모리나 저장소를 추가로 사용함.
- **캐시 무효화(Cache Invalidation)**: 캐시 데이터를 적절히 갱신하거나 삭제하는 관리가 필요함.

---

### **4. 캐싱의 전략**

캐싱을 설계할 때 데이터의 특성 및 시스템 요구사항에 맞는 전략을 선택해야 한다.

#### **1) 캐시 무효화(Cache Invalidation)**
캐시에 저장된 데이터가 오래되었을 때 이를 갱신하거나 삭제하는 방식.
- **시간 기반(Time-to-Live, TTL)**: 일정 시간이 지나면 데이터를 무효화.
- **수동 갱신(Manual Invalidation)**: 개발자 또는 시스템이 필요할 때 갱신.

#### **2) 캐시 위치**
- **클라이언트 측 캐싱(Client-side Caching)**: 브라우저나 로컬 저장소에 데이터 저장.
- **서버 측 캐싱(Server-side Caching)**: 웹 서버, 데이터베이스에서 캐시 구현.
- **네트워크 캐싱(Network Caching)**: CDN(Content Delivery Network) 등을 사용하여 정적 리소스 캐싱.

#### **3) 캐싱 알고리즘**
- **LRU(Least Recently Used)**: 가장 오래 사용하지 않은 데이터를 제거.
- **LFU(Least Frequently Used)**: 사용 빈도가 가장 낮은 데이터를 제거.
- **FIFO(First In, First Out)**: 먼저 저장된 데이터를 먼저 제거.

---

### **5. 캐싱의 현업 활용 사례**

#### **1) 웹 애플리케이션**
- **브라우저 캐싱**: 정적 리소스(이미지, CSS 파일 등)를 캐싱하여 페이지 로드 속도 향상.
- **CDN 캐싱**: 전 세계에 분산된 서버에 정적 콘텐츠를 캐싱하여 사용자에게 빠르게 제공.

#### **2) 데이터베이스**
- **Redis, Memcached**: 자주 사용되는 데이터나 계산 결과를 메모리에 저장하여 데이터베이스 부하 감소.

#### **3) API**
- **API Gateway 캐싱**: 외부 API 호출 결과를 캐싱하여 응답 속도 향상과 호출 비용 절감.

#### **4) 머신러닝**
- **모델 결과 캐싱**: 동일한 입력값에 대한 예측 결과를 캐싱하여 중복 계산 방지.

---

### **6. Python 예제**

#### **1) 단순 캐시 구현**
다음은 Python에서 LRU 캐싱을 간단히 구현한 예제이다.

```python
from functools import lru_cache

@lru_cache(maxsize=3)  # 최대 3개의 결과를 캐싱
def slow_function(x):
    print(f"계산 중: {x}")
    return x * x

# 캐싱 동작 테스트
print(slow_function(2))  # 계산 수행
print(slow_function(3))  # 계산 수행
print(slow_function(2))  # 캐시에서 가져옴
print(slow_function(4))  # 계산 수행
print(slow_function(3))  # 캐시에서 가져옴
print(slow_function(5))  # 계산 수행 (캐시 초과, 가장 오래된 값 제거)
```

#### **실행 결과**
```bash
계산 중: 2
4
계산 중: 3
9
4
계산 중: 4
16
9
계산 중: 5
25
```

---

#### **2) Redis를 이용한 캐싱**
Redis는 대표적인 메모리 기반 캐시 시스템이다. 다음은 Python에서 Redis를 사용한 간단한 예제이다.

```python
import redis

# Redis 클라이언트 연결
cache = redis.StrictRedis(host='localhost', port=6379, db=0)

def get_data(key):
    # 캐시에서 데이터 검색
    value = cache.get(key)
    if value:
        print("캐시 히트!")
        return value.decode()  # Redis에서 가져온 데이터는 바이트 형식이므로 디코딩
    else:
        print("캐시 미스!")
        # 원본 데이터 소스에서 가져온 후 캐시에 저장
        value = f"데이터_{key}"
        cache.set(key, value, ex=10)  # 캐시에 데이터 저장 (10초 TTL)
        return value

# 테스트
print(get_data("1"))  # 캐시 미스
print(get_data("1"))  # 캐시 히트
```

#### **실행 결과**
```bash
캐시 미스!
데이터_1
캐시 히트!
데이터_1
```

---

### **7. 요약**

- **캐시(Cache)**는 데이터 접근 속도를 높이기 위한 고속 저장소이다.
- **캐싱(Caching)**은 캐시를 사용하는 기술로, 시스템 성능을 최적화하고 응답 시간을 줄이는 데 사용된다.
- 현업에서는 웹 애플리케이션, 데이터베이스, API 호출, 머신러닝 등 다양한 분야에서 캐싱을 적극적으로 활용한다.
- 올바른 캐싱 전략을 통해 성능을 최적화하고 일관성을 유지하는 것이 중요하다.